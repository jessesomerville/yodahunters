{{define "main"}}
<main>
<form id="loginForm">
  <label for="username">Username:</label><br>
  <input type="text" id="username" name="username"><br>
  <label for="password">Password:</label><br>
  <input type="password" id="password" name="password"><br><br>
  <button type="button" id="loginButton">Login</button>
</form>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const loginForm = document.getElementById('loginForm');
  const loginButton = document.getElementById('loginButton');

  loginForm.addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      handleLogin();
    }
  });
  loginButton.addEventListener('click', function() {
    handleLogin();
  });
});

function handleLogin() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    jsonPost("/api/login", {username: username, password: password}, "Login Failed!", "/")
}
</script>
</main>
{{end}}